"use strict";(self.webpackChunkFischereiverband=self.webpackChunkFischereiverband||[]).push([[233],{8233:(xt,A,s)=>{s.r(A),s.d(A,{AdminModule:()=>Dt});var c=s(6895),d=s(1760),M=s(3783),t=s(4650),l=s(6142);const O=["grid"];let k=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-users.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-users"]],viewQuery:function(o,e){if(1&o&&t.Gf(O,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();var h=s(677);const F=["grid"];let S=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-fishes.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-fishes"]],viewQuery:function(o,e){if(1&o&&t.Gf(F,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();const U=["grid"];let P=(()=>{class n{constructor(){this.path="grids/admin",this.file="age-of-fishes.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-age-of-fishes"]],viewQuery:function(o,e){if(1&o&&t.Gf(U,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();const D=["grid"];let x=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-origins.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-origins"]],viewQuery:function(o,e){if(1&o&&t.Gf(D,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();const Q=["grid"];let B=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-waters.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-waters"]],viewQuery:function(o,e){if(1&o&&t.Gf(Q,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();const G=["grid"];let J=(()=>{class n{constructor(){this.path="grids/admin",this.file="management-registers.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-management-registers"]],viewQuery:function(o,e){if(1&o&&t.Gf(G,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();const N=["grid"];let q=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-fish-stocking-reports.json"}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-fish-stocking-reports"]],viewQuery:function(o,e){if(1&o&&t.Gf(N,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();var R=s(3794),I=s(8541);class g{}var u=s(9992),b=s(8283),_=s(3662),T=s(392),y=s(8012),f=s(7296);let C=(()=>{class n{constructor(i){this._location=i}goBack(){this._location.back()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(c.Ye))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-go-back"]],decls:3,vars:3,consts:[[1,"btn-sm","btn-outline-danger",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return e.goBack()}),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"actionMessage.goBack")))},dependencies:[f.X$]})}return n})();const L=["grid"],H=["dialogConfirmBackReport"],E=["dialogConfirmReminderOwner"];function z(n,r){if(1&n&&(t.TgZ(0,"ngb-alert",14)(1,"div",15),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"date"),t.qZA()()),2&n){const i=t.oxw();t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(3,4,"actionMessage.reportCompleted")," ",t.xi3(4,6,i.fishStockingReport.date_completed,"dd.MM.yyyy. HH:mm")," ")}}function Y(n,r){1&n&&(t.TgZ(0,"ngb-alert",14)(1,"div",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(3,3,"actionMessage.reportCompletedNotYet")))}function j(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.dialogConfirmBackReportShow())}),t._UZ(1,"span",17),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.backReportToOwner"),""))}function W(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.dialogConfirmReminderOwnerShow())}),t._UZ(1,"span",19),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.reminderOwnerToCompleteReport"),""))}function X(n,r){1&n&&t._UZ(0,"app-loader")}function K(n,r){if(1&n&&t._UZ(0,"app-dynamic-grid",20,21),2&n){const i=t.oxw();t.Q6J("path",i.path)("file",i.file)("data",i.data)}}let $=(()=>{class n{constructor(i,o,e){this._service=i,this._activatedRouter=o,this._toastr=e,this.path="grids/admin",this.file="fish-stocking-report-details.json",this.fishStockingReport=new I.V,this.FISH_STOCKING_REPORT_ENUM=R.o,this.userProfile=new g,this.loader=!1}ngOnInit(){this.getFishStockingReportDetails(),this.getFishStockingReportStatus()}getFishStockingReportDetails(){this._service.callGetMethod("/api/admin/getFishStockingReportDetails?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year).subscribe(i=>{this.data=i})}getFishStockingReportStatus(){this._service.callGetMethod("/api/admin/getFishStockingReport?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year).subscribe(i=>{this.fishStockingReport=i,this.getUserProfile()})}getUserProfile(){this._service.callGetMethod("/api/admin/getUserProfile",this.fishStockingReport.id_owner).subscribe(i=>{this.userProfile=i})}dialogConfirmBackReportShow(){this.dialogConfirmBackReport.showQuestionModal()}dialogConfirmReminderOwnerShow(){this.dialogConfirmReminderOwner.showQuestionModal()}reminderOwnerToCompleteFishStockingReport(){this.loader=!0,this._service.callPostMethod("/api/mail/reminderOwnerToCompleteFishStockingReport",{fishStockingReport:this.fishStockingReport,userProfile:this.userProfile}).subscribe(i=>{i&&(this.loader=!1,this.fishStockingReport.status=R.o.draft)})}backFishStockingReportToOwner(){this.loader=!0,this._service.callPostMethod("/api/admin/backFishStockingReportToOwner",{fishStockingReport:this.fishStockingReport,userProfile:this.userProfile}).subscribe(i=>{i&&(this.loader=!1,this.fishStockingReport.status=R.o.draft,this._toastr.showSuccess())})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(u.f),t.Y36(d.gz),t.Y36(b.l))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-fish-stocking-report-details"]],viewQuery:function(o,e){if(1&o&&(t.Gf(L,5),t.Gf(H,5),t.Gf(E,5)),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first),t.iGM(a=t.CRH())&&(e.dialogConfirmBackReport=a.first),t.iGM(a=t.CRH())&&(e.dialogConfirmReminderOwner=a.first)}},decls:40,vars:40,consts:[[1,"informations","d-flex","row"],[1,"col-md-12"],[1,"col-md-12","owner","text-center","mb-1"],[1,"col-md-12","text-center"],[3,"type","dismissible",4,"ngIf"],[1,"col-md-12","mb-1"],[1,"d-flex","justify-content-end","action"],["class","btn btn-warning",3,"click",4,"ngIf"],["class","btn btn-info",3,"click",4,"ngIf"],[4,"ngIf"],[3,"path","file","data",4,"ngIf"],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirmBackReport",""],["dialogConfirmReminderOwner",""],[3,"type","dismissible"],[1,"alert-body"],[1,"btn","btn-warning",3,"click"],[1,"fa","fa-backward"],[1,"btn","btn-info",3,"click"],[1,"fa","fa-bell"],[3,"path","file","data"],["grid",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-go-back"),t.qZA(),t.TgZ(3,"div",2)(4,"h3")(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"label"),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"b"),t._uU(11),t.qZA()(),t._uU(12," \xa0 "),t.TgZ(13,"label"),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"b"),t._uU(17),t.qZA()(),t._uU(18," \xa0 "),t.qZA(),t.TgZ(19,"div",3),t.YNc(20,z,5,9,"ngb-alert",4),t.YNc(21,Y,4,5,"ngb-alert",4),t.qZA(),t.TgZ(22,"div",5)(23,"div",6),t.YNc(24,j,4,3,"button",7),t.YNc(25,W,4,3,"button",8),t.qZA()()(),t.YNc(26,X,1,0,"app-loader",9),t.YNc(27,K,2,3,"app-dynamic-grid",10),t.TgZ(28,"app-dialog-confirm",11,12),t.NdJ("confirm",function(){return e.backFishStockingReportToOwner()}),t.ALo(30,"translate"),t.ALo(31,"translate"),t.ALo(32,"translate"),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"app-dialog-confirm",11,13),t.NdJ("confirm",function(){return e.reminderOwnerToCompleteFishStockingReport()}),t.ALo(36,"translate"),t.ALo(37,"translate"),t.ALo(38,"translate"),t.ALo(39,"translate"),t.qZA()),2&o&&(t.xp6(6),t.AsE("",e.userProfile.firstname," ",e.userProfile.lastname,""),t.xp6(2),t.hij("",t.lcZ(9,20,"commonFields.fbz"),": "),t.xp6(3),t.Oqu(e.fishStockingReport.fbz),t.xp6(3),t.hij("",t.lcZ(15,22,"commonFields.year"),": "),t.xp6(3),t.Oqu(e.fishStockingReport.year),t.xp6(3),t.Q6J("ngIf",e.fishStockingReport.status==e.FISH_STOCKING_REPORT_ENUM.completed),t.xp6(1),t.Q6J("ngIf",e.fishStockingReport.status==e.FISH_STOCKING_REPORT_ENUM.draft),t.xp6(3),t.Q6J("ngIf",e.fishStockingReport.status==e.FISH_STOCKING_REPORT_ENUM.completed),t.xp6(1),t.Q6J("ngIf",e.fishStockingReport.status==e.FISH_STOCKING_REPORT_ENUM.draft),t.xp6(1),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",e.data),t.xp6(1),t.Q6J("title",t.lcZ(30,24,"actionMessage.dialogBackReportToOwnerTitle"))("content",t.lcZ(31,26,"actionMessage.dialogBackReportToOwnerText"))("confirmButtonText",t.lcZ(32,28,"generalDialog.yes"))("cancelButtonText",t.lcZ(33,30,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(36,32,"actionMessage.dialogReminderOwnerToCompleteReportTitle"))("content",t.lcZ(37,34,"actionMessage.dialogReminderOwnerToCompleteReportText"))("confirmButtonText",t.lcZ(38,36,"generalDialog.yes"))("cancelButtonText",t.lcZ(39,38,"generalDialog.no")))},dependencies:[c.O5,l.d,_.xm,T.p,y.R,C,c.uU,f.X$],styles:["@media (max-width: 992px){.informations[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.informations[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{justify-content:center;margin-bottom:15px}}@media (min-width: 993px){.informations[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{justify-content:end}}p[_ngcontent-%COMP%]{margin:0}"]})}return n})();var V=s(3735);const tt=["grid"];let et=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-fish-catch-reports.json"}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-fish-catch-reports"]],viewQuery:function(o,e){if(1&o&&t.Gf(tt,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();var Z=s(9830),it=s(8330),ot=s(9308),m=s(4006),v=s(4170);const nt=["grid"],at=["dialogConfirmBackReport"],st=["dialogConfirmReminderOwner"];function rt(n,r){if(1&n&&(t.TgZ(0,"ngb-alert",16)(1,"div",17),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"date"),t.qZA()()),2&n){const i=t.oxw();t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(3,4,"actionMessage.reportCompleted")," ",t.xi3(4,6,i.fishCatchReport.date_completed,"dd.MM.yyyy. HH:mm")," ")}}function lt(n,r){1&n&&(t.TgZ(0,"ngb-alert",16)(1,"div",17),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(3,3,"actionMessage.reportCompletedNotYet")))}function ct(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.dialogConfirmBackReportShow())}),t._UZ(1,"span",19),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.backReportToOwner"),""))}function pt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.dialogConfirmReminderOwnerShow())}),t._UZ(1,"span",21),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.reminderOwnerToCompleteReport"),""))}function dt(n,r){1&n&&t._UZ(0,"app-loader")}function ht(n,r){if(1&n&&t._UZ(0,"app-dynamic-grid",22,23),2&n){const i=t.oxw();t.Q6J("path",i.path)("file",i.file)("data",i.data)}}let ft=(()=>{class n{constructor(i,o,e){this._service=i,this._activatedRouter=o,this._toastr=e,this.path="grids/admin",this.file="fish-catch-report-details.json",this.fishCatchReport=new ot.P,this.FISH_CATCH_REPORT_ENUM=Z.e,this.userProfile=new g,this.loader=!1,this.fishCatchFilter=new it.r}ngOnInit(){this.getReportDetails(),this.getReportStatus(),this.getWatersForSelectedManagementRegister()}getWatersForSelectedManagementRegister(){this._service.callGetMethod("api/owner/getAllWaters?fbz="+this._activatedRouter.snapshot.queryParams.fbz).subscribe(i=>{this.allWaters=i,1===i.length&&(this.fishCatchFilter.water=i[0].id_water)})}getReportDetails(){this.loader=!0,this._service.callGetMethod("/api/admin/getFishCatchReportDetails?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year).subscribe(i=>{this.data=i,this.loader=!1})}getDetailsForSelectedWater(i){this.loader=!0,this._service.callGetMethod("/api/admin/getFishCatchDetailsForSelectedWater?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year+"&id_water="+i).subscribe(o=>{this.data=o,this.loader=!1})}getReportStatus(){this._service.callGetMethod("/api/admin/getFishCatchReport?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year).subscribe(i=>{this.fishCatchReport=i,this.getUserProfile()})}getUserProfile(){this._service.callGetMethod("/api/admin/getUserProfile",this.fishCatchReport.id_owner).subscribe(i=>{this.userProfile=i})}dialogConfirmBackReportShow(){this.dialogConfirmBackReport.showQuestionModal()}dialogConfirmReminderOwnerShow(){this.dialogConfirmReminderOwner.showQuestionModal()}reminderOwnerToCompleteReport(){this.loader=!0,this._service.callPostMethod("/api/mail/reminderOwnerToCompleteFishCatchReport",{fishCatchReport:this.fishCatchReport,userProfile:this.userProfile}).subscribe(i=>{i&&(this.loader=!1,this.fishCatchReport.status=Z.e.draft)})}backReportToOwner(){this.loader=!0,this._service.callPostMethod("/api/admin/backFishCatchReportToOwner",{fishCatchReport:this.fishCatchReport,userProfile:this.userProfile}).subscribe(i=>{i&&(this.loader=!1,this.fishCatchReport.status=Z.e.draft,this._toastr.showSuccess())})}onChangeWater(i){i?this.getDetailsForSelectedWater(i.id):this.getReportDetails()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(u.f),t.Y36(d.gz),t.Y36(b.l))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-fish-catch-report-details"]],viewQuery:function(o,e){if(1&o&&(t.Gf(nt,5),t.Gf(at,5),t.Gf(st,5)),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first),t.iGM(a=t.CRH())&&(e.dialogConfirmBackReport=a.first),t.iGM(a=t.CRH())&&(e.dialogConfirmReminderOwner=a.first)}},decls:43,vars:46,consts:[[1,"informations","d-flex","row"],[1,"col-md-12"],[1,"col-md-12","owner","text-center","mb-1"],[1,"col-md-12","text-center"],[3,"type","dismissible",4,"ngIf"],[1,"col-md-4"],["bindLabel","name","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],[1,"col-md-8","mb-1"],[1,"d-flex","justify-content-end","action"],["class","btn btn-warning",3,"click",4,"ngIf"],["class","btn btn-info reminder-button",3,"click",4,"ngIf"],[4,"ngIf"],[3,"path","file","data",4,"ngIf"],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirmBackReport",""],["dialogConfirmReminderOwner",""],[3,"type","dismissible"],[1,"alert-body"],[1,"btn","btn-warning",3,"click"],[1,"fa","fa-backward"],[1,"btn","btn-info","reminder-button",3,"click"],[1,"fa","fa-bell"],[3,"path","file","data"],["grid",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-go-back"),t.qZA(),t.TgZ(3,"div",2)(4,"h3")(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"label"),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"b"),t._uU(11),t.qZA()(),t._uU(12," \xa0 "),t.TgZ(13,"label"),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"b"),t._uU(17),t.qZA()(),t._uU(18," \xa0 "),t.qZA(),t.TgZ(19,"div",3),t.YNc(20,rt,5,9,"ngb-alert",4),t.YNc(21,lt,4,5,"ngb-alert",4),t.qZA(),t.TgZ(22,"div",5)(23,"ng-select",6),t.NdJ("ngModelChange",function(p){return e.fishCatchFilter.water=p})("change",function(p){return e.onChangeWater(p)}),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",7)(26,"div",8),t.YNc(27,ct,4,3,"button",9),t.YNc(28,pt,4,3,"button",10),t.qZA()()(),t.YNc(29,dt,1,0,"app-loader",11),t.YNc(30,ht,2,3,"app-dynamic-grid",12),t.TgZ(31,"app-dialog-confirm",13,14),t.NdJ("confirm",function(){return e.backReportToOwner()}),t.ALo(33,"translate"),t.ALo(34,"translate"),t.ALo(35,"translate"),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"app-dialog-confirm",13,15),t.NdJ("confirm",function(){return e.reminderOwnerToCompleteReport()}),t.ALo(39,"translate"),t.ALo(40,"translate"),t.ALo(41,"translate"),t.ALo(42,"translate"),t.qZA()),2&o&&(t.xp6(6),t.AsE("",e.userProfile.firstname," ",e.userProfile.lastname,""),t.xp6(2),t.hij("",t.lcZ(9,24,"commonFields.fbz"),": "),t.xp6(3),t.Oqu(e.fishCatchReport.fbz),t.xp6(3),t.hij("",t.lcZ(15,26,"commonFields.year"),": "),t.xp6(3),t.Oqu(e.fishCatchReport.year),t.xp6(3),t.Q6J("ngIf",e.fishCatchReport.status==e.FISH_CATCH_REPORT_ENUM.completed),t.xp6(1),t.Q6J("ngIf",e.fishCatchReport.status==e.FISH_CATCH_REPORT_ENUM.draft),t.xp6(2),t.Q6J("items",e.allWaters)("ngModel",e.fishCatchFilter.water)("placeholder",t.lcZ(24,28,"commonFields.chooseManagementRegistry"))("searchable",!0),t.xp6(4),t.Q6J("ngIf",e.fishCatchReport.status==e.FISH_CATCH_REPORT_ENUM.completed),t.xp6(1),t.Q6J("ngIf",e.fishCatchReport.status==e.FISH_CATCH_REPORT_ENUM.draft),t.xp6(1),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader),t.xp6(1),t.Q6J("title",t.lcZ(33,30,"actionMessage.dialogBackReportToOwnerTitle"))("content",t.lcZ(34,32,"actionMessage.dialogBackReportToOwnerText"))("confirmButtonText",t.lcZ(35,34,"generalDialog.yes"))("cancelButtonText",t.lcZ(36,36,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(39,38,"actionMessage.dialogReminderOwnerToCompleteReportTitle"))("content",t.lcZ(40,40,"actionMessage.dialogReminderOwnerToCompleteReportText"))("confirmButtonText",t.lcZ(41,42,"generalDialog.yes"))("cancelButtonText",t.lcZ(42,44,"generalDialog.no")))},dependencies:[c.O5,m.JJ,m.On,l.d,_.xm,T.p,y.R,C,v.w9,c.uU,f.X$]})}return n})();const mt=["grid"];let gt=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-observation-sheets.json"}unsavedChanges(){return this.grid.unsavedChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-observation-sheets"]],viewQuery:function(o,e){if(1&o&&t.Gf(mt,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();function ut(n,r){if(1&n&&t._UZ(0,"app-dynamic-grid",4,5),2&n){const i=t.oxw();t.Q6J("path",i.path)("file",i.file)("data",i.data)}}let _t=(()=>{class n{constructor(i,o){this._service=i,this._activatedRouter=o,this.path="grids/admin",this.file="observation-sheet-details.json",this.loader=!1,this.userProfile=new g}ngOnInit(){this.getUserProfile(),this.getObservationSheetDetails()}getUserProfile(){this._service.callGetMethod("api/admin/getUserProfile",this._activatedRouter.snapshot.queryParams.id_owner).subscribe(i=>{this.userProfile=i})}getObservationSheetDetails(){this.loader=!0,this._service.callGetMethod("api/admin/getObservationSheetDetails?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year).subscribe(i=>{this.data=i,this.loader=!1})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(u.f),t.Y36(d.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-observation-sheet-details"]],decls:20,vars:11,consts:[[1,"informations","d-flex","row"],[1,"col-md-12"],[1,"col-md-12","owner","text-center","mb-1"],[3,"path","file","data",4,"ngIf"],[3,"path","file","data"],["grid",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-go-back"),t.qZA(),t.TgZ(3,"div",2)(4,"h3")(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"label"),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"b"),t._uU(11),t.qZA()(),t._uU(12," \xa0 "),t.TgZ(13,"label"),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"b"),t._uU(17),t.qZA()(),t._uU(18," \xa0 "),t.qZA()(),t.YNc(19,ut,2,3,"app-dynamic-grid",3)),2&o&&(t.xp6(6),t.AsE("",e.userProfile.firstname," ",e.userProfile.lastname,""),t.xp6(2),t.hij("",t.lcZ(9,7,"commonFields.fbz"),": "),t.xp6(3),t.Oqu(e._activatedRouter.snapshot.queryParams.fbz),t.xp6(3),t.hij("",t.lcZ(15,9,"commonFields.year"),": "),t.xp6(3),t.Oqu(e._activatedRouter.snapshot.queryParams.year),t.xp6(2),t.Q6J("ngIf",!e.loader))},dependencies:[c.O5,l.d,C,f.X$]})}return n})();const Ct=["grid"];let Rt=(()=>{class n{constructor(){this.path="grids/admin",this.file="all-bird-count-reports.json"}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-bird-count-reports"]],viewQuery:function(o,e){if(1&o&&t.Gf(Ct,5),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first)}},decls:2,vars:2,consts:[[3,"path","file"],["grid",""]],template:function(o,e){1&o&&t._UZ(0,"app-dynamic-grid",0,1),2&o&&t.Q6J("path",e.path)("file",e.file)},dependencies:[l.d]})}return n})();var w=s(5255),bt=s(3880),Tt=s(7825),yt=s(8926);const Zt=["grid"],vt=["dialogConfirmBackReport"],At=["dialogConfirmReminderOwner"];function wt(n,r){if(1&n&&(t.TgZ(0,"ngb-alert",16)(1,"div",17),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"date"),t.qZA()()),2&n){const i=t.oxw();t.Q6J("type","success")("dismissible",!1),t.xp6(2),t.AsE("",t.lcZ(3,4,"actionMessage.reportCompleted")," ",t.xi3(4,6,i.report.date_completed,"dd.MM.yyyy. HH:mm")," ")}}function Mt(n,r){1&n&&(t.TgZ(0,"ngb-alert",16)(1,"div",17),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.Q6J("type","warning")("dismissible",!1),t.xp6(2),t.Oqu(t.lcZ(3,3,"actionMessage.reportCompletedNotYet")))}function Ot(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.dialogConfirmBackReportShow())}),t._UZ(1,"span",19),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.backReportToOwner"),""))}function kt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.dialogConfirmReminderOwnerShow())}),t._UZ(1,"span",21),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"action.reminderOwnerToCompleteReport"),""))}function Ft(n,r){1&n&&t._UZ(0,"app-loader")}function St(n,r){if(1&n&&t._UZ(0,"app-dynamic-grid",22,23),2&n){const i=t.oxw();t.Q6J("path",i.path)("file",i.file)("data",i.data)}}const Pt=[{path:"all-users",component:k,canDeactivate:[h.T]},{path:"all-fishes",component:S,canDeactivate:[h.T]},{path:"all-origins",component:x,canDeactivate:[h.T]},{path:"all-waters",component:B,canDeactivate:[h.T]},{path:"age-of-fishes",component:P,canDeactivate:[h.T]},{path:"management-registers",component:J,canDeactivate:[h.T]},{path:"all-fish-stocking-reports",component:q},{path:"fish-stocking-report-details",component:$},{path:"all-fish-catch-reports",component:et},{path:"fish-catch-report-details",component:ft},{path:"all-observation-sheets",component:gt},{path:"observation-sheet-details",component:_t},{path:"all-bird-count-reports",component:Rt},{path:"bird-count-report-details",component:(()=>{class n{constructor(i,o,e){this._service=i,this._activatedRouter=o,this._toastr=e,this.path="grids/admin",this.file="all-bird-count-report-details.json",this.data=[],this.report=new Tt.v,this.REPORT_STATUS_ENUM=w.x,this.userProfile=new g,this.loader=!1,this.filter=new bt.G}ngOnInit(){this.getReportStatus(),this.getWatersForSelectedManagementRegister()}getWatersForSelectedManagementRegister(){this._service.callGetMethod("api/owner/getAllWaters?fbz="+this._activatedRouter.snapshot.queryParams.fbz).subscribe(i=>{this.allWaters=i,1===i.length&&(this.filter.water=i[0].id_water)})}getDetailsForSelectedWater(i){this.initializeDefaultData(),this.loader=!0,this._service.callGetMethod("/api/admin/getBirdCountDetailsForSelectedWater?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year+"&id_water="+i).subscribe(o=>{this.prepackedData(o),this.loader=!1})}getReportStatus(){this._service.callGetMethod("/api/admin/getBirdCountReport?fbz="+this._activatedRouter.snapshot.queryParams.fbz+"&year="+this._activatedRouter.snapshot.queryParams.year).subscribe(i=>{this.report=i,this.getUserProfile()})}getUserProfile(){this._service.callGetMethod("/api/admin/getUserProfile",this.report.id_owner).subscribe(i=>{this.userProfile=i})}dialogConfirmBackReportShow(){this.dialogConfirmBackReport.showQuestionModal()}dialogConfirmReminderOwnerShow(){this.dialogConfirmReminderOwner.showQuestionModal()}reminderOwnerToCompleteReport(){this.loader=!0,this._service.callPostMethod("/api/mail/reminderOwnerToCompleteBirdCountReport",{report:this.report,userProfile:this.userProfile}).subscribe(i=>{i&&(this.loader=!1,this.report.status=this.REPORT_STATUS_ENUM.draft)})}backReportToOwner(){this.loader=!0,this._service.callPostMethod("/api/admin/backBirdCountReportToOwner",{report:this.report,userProfile:this.userProfile}).subscribe(i=>{i&&(this.loader=!1,this.report.status=w.x.draft,this._toastr.showSuccess())})}onChangeWater(i){i?this.getDetailsForSelectedWater(i.id):this.emptyGrid()}initializeDefaultData(){this.data=(new yt.t).data;const i=this._activatedRouter.snapshot.queryParams.year;for(let o=0;o<this.data.length;o++)this.data[o].date=this.data[o].date.replace("#currentYear",i.toString())}prepackedData(i){for(let o=0;o<this.data.length;o++)for(let e=0;e<i.length;e++)if(this.data[o].date===i[e].date){this.data[o]=i[e];break}}emptyGrid(){this.loader=!0,setTimeout(()=>{this.data=[],this.loader=!1},10)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(u.f),t.Y36(d.gz),t.Y36(b.l))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-bird-count-report-details"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Zt,5),t.Gf(vt,5),t.Gf(At,5)),2&o){let a;t.iGM(a=t.CRH())&&(e.grid=a.first),t.iGM(a=t.CRH())&&(e.dialogConfirmBackReport=a.first),t.iGM(a=t.CRH())&&(e.dialogConfirmReminderOwner=a.first)}},decls:43,vars:46,consts:[[1,"informations","d-flex","row"],[1,"col-md-12"],[1,"col-md-12","owner","text-center","mb-1"],[1,"col-md-12","text-center"],[3,"type","dismissible",4,"ngIf"],[1,"col-md-4"],["bindLabel","name","bindValue","id",3,"items","ngModel","placeholder","searchable","ngModelChange","change"],[1,"col-md-8","mb-1"],[1,"d-flex","justify-content-end","action"],["class","btn btn-warning",3,"click",4,"ngIf"],["class","btn btn-info reminder-button",3,"click",4,"ngIf"],[4,"ngIf"],[3,"path","file","data",4,"ngIf"],[3,"title","content","confirmButtonText","cancelButtonText","confirm"],["dialogConfirmBackReport",""],["dialogConfirmReminderOwner",""],[3,"type","dismissible"],[1,"alert-body"],[1,"btn","btn-warning",3,"click"],[1,"fa","fa-backward"],[1,"btn","btn-info","reminder-button",3,"click"],[1,"fa","fa-bell"],[3,"path","file","data"],["grid",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-go-back"),t.qZA(),t.TgZ(3,"div",2)(4,"h3")(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"label"),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"b"),t._uU(11),t.qZA()(),t._uU(12," \xa0 "),t.TgZ(13,"label"),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"b"),t._uU(17),t.qZA()(),t._uU(18," \xa0 "),t.qZA(),t.TgZ(19,"div",3),t.YNc(20,wt,5,9,"ngb-alert",4),t.YNc(21,Mt,4,5,"ngb-alert",4),t.qZA(),t.TgZ(22,"div",5)(23,"ng-select",6),t.NdJ("ngModelChange",function(p){return e.filter.water=p})("change",function(p){return e.onChangeWater(p)}),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",7)(26,"div",8),t.YNc(27,Ot,4,3,"button",9),t.YNc(28,kt,4,3,"button",10),t.qZA()()(),t.YNc(29,Ft,1,0,"app-loader",11),t.YNc(30,St,2,3,"app-dynamic-grid",12),t.TgZ(31,"app-dialog-confirm",13,14),t.NdJ("confirm",function(){return e.backReportToOwner()}),t.ALo(33,"translate"),t.ALo(34,"translate"),t.ALo(35,"translate"),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"app-dialog-confirm",13,15),t.NdJ("confirm",function(){return e.reminderOwnerToCompleteReport()}),t.ALo(39,"translate"),t.ALo(40,"translate"),t.ALo(41,"translate"),t.ALo(42,"translate"),t.qZA()),2&o&&(t.xp6(6),t.AsE("",e.userProfile.firstname," ",e.userProfile.lastname,""),t.xp6(2),t.hij("",t.lcZ(9,24,"commonFields.fbz"),": "),t.xp6(3),t.Oqu(e.report.fbz),t.xp6(3),t.hij("",t.lcZ(15,26,"commonFields.year"),": "),t.xp6(3),t.Oqu(e.report.year),t.xp6(3),t.Q6J("ngIf",e.report.status==e.REPORT_STATUS_ENUM.completed),t.xp6(1),t.Q6J("ngIf",e.report.status==e.REPORT_STATUS_ENUM.draft),t.xp6(2),t.Q6J("items",e.allWaters)("ngModel",e.filter.water)("placeholder",t.lcZ(24,28,"commonFields.chooseManagementRegistry"))("searchable",!0),t.xp6(4),t.Q6J("ngIf",e.report.status==e.REPORT_STATUS_ENUM.completed),t.xp6(1),t.Q6J("ngIf",e.report.status==e.REPORT_STATUS_ENUM.draft),t.xp6(1),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader),t.xp6(1),t.Q6J("title",t.lcZ(33,30,"actionMessage.dialogBackReportToOwnerTitle"))("content",t.lcZ(34,32,"actionMessage.dialogBackReportToOwnerText"))("confirmButtonText",t.lcZ(35,34,"generalDialog.yes"))("cancelButtonText",t.lcZ(36,36,"generalDialog.no")),t.xp6(6),t.Q6J("title",t.lcZ(39,38,"actionMessage.dialogReminderOwnerToCompleteReportTitle"))("content",t.lcZ(40,40,"actionMessage.dialogReminderOwnerToCompleteReportText"))("confirmButtonText",t.lcZ(41,42,"generalDialog.yes"))("cancelButtonText",t.lcZ(42,44,"generalDialog.no")))},dependencies:[c.O5,m.JJ,m.On,l.d,_.xm,T.p,y.R,C,v.w9,c.uU,f.X$]})}return n})()}];let Dt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[c.ez,m.u5,d.Bz.forChild(Pt),M.w,f.aw,_._A,V.$,v.A0,d.Bz]})}return n})()}}]);